<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yuyue.boss.api.mapper.SendMapper" >

    <!--获取公告列表-->
    <select id="getJPushList" resultType="com.yuyue.boss.api.domain.JPush" parameterType="String">
        SELECT d.*,DATE_FORMAT(d.CREATE_TIME ,'%Y-%m-%d %H:%i:%s') createTime
        FROM yuyue_jpush d
        WHERE 1=1
        <if test=" id !=null and id!='' ">  and d.id = #{id}  </if>
        <if test=" msgTitle !=null and msgTitle!='' ">  and d.msgTitle like concat('%', #{msgTitle}, '%')  </if>
        <if test=" extras!=null and extras!='' ">  and d.extras = #{extras}  </if>
        <if test=" startTime !=null and startTime!='' ">
            <![CDATA[
				and	DATE_FORMAT(d.CREATE_TIME, '%Y-%m-%d %H:%i:%s') >= DATE_FORMAT(#{startTime}, '%Y-%m-%d %H:%i:%s')
			]]>
        </if>
        <if test=" endTime !=null and endTime!='' ">
            <![CDATA[
				and	DATE_FORMAT(d.CREATE_TIME, '%Y-%m-%d %H:%i:%s') <= DATE_FORMAT(#{endTime}, '%Y-%m-%d %H:%i:%s')
			]]>
        </if>
        ORDER BY d.CREATE_TIME desc
    </select>

</mapper>