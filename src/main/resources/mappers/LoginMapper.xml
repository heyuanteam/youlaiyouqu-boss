<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yuyue.boss.api.mapper.LoginMapper" >

    <!--b.id = 'F9946CAE0D574FB1BDFDAE922F7821E9'-->
    <select id="getAppUserMsg" resultType="com.yuyue.boss.api.domain.UserVO" parameterType="String">
        SELECT b.id systemUserId,b.loginName,b.realName,DATE_FORMAT(b.lastLoginTime ,'%Y-%m-%d %H:%i:%s') lastLoginTime,b.phone,b.`status` systemUserStatus,b.`password`,
               c.id systemRoleId,c.`status` systemRoleStatus,
               d.id systemMeuId,d.`status` systemMenuStatus,d.menuAction,d.menuCode,d.parentId systemMeuPantId,d.menuName,
               h.id systemPermissionId,h.permissionName,h.permissionKey,h.parentId systemMeuPermissionPantId,h.permissionCode,h.permissionAction, h.`status` systemPermissionStatus
        FROM yuyue_system_user b,yuyue_system_role c,yuyue_system_menu d,yuyue_system_permission h
        WHERE b.id = c.systemUserId
          AND b.loginName = 'admin' AND b.`password` = '123456'
          AND b.`status` = '10B' AND d.id = c.menuId AND d.`status` = '10B'
          AND h.id = c.permissionId AND h.`status` = '10B' AND c.`status` = '10B'
        ORDER BY h.permissionCode
    </select>


</mapper>